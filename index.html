<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>YARTE Editor Test</title>
  <script type="module" src="dist/yarte.js"></script>
  <style>
    yarte-editor {
      display: flex;
      margin-bottom: 5rem;
      width: 700px;
      margin: 0 auto;
    }
  </style>
  <script type="module" lang="ts">

    import { BoldPlugin, ItalicPlugin, StrikePlugin, UnderlinePlugin, FontColorPlugin, FontHighlightPlugin, ImagePlugin, HyperlinkPlugin } from "./dist/yarte.js";

    window.onload = () => {
      var $editor = document.querySelectorAll("yarte-editor");

      let propeller = (file) => {
        return new Promise((resolve) => {
          setTimeout(() => {
            console.log("urltoimage");
            resolve("urltoimage");
          })
        })

      }
      $editor[0].initCallback = (editor => {
        return [
          new BoldPlugin(editor),
          new ItalicPlugin(editor),
          new StrikePlugin(editor),
          new UnderlinePlugin(editor),
          new FontColorPlugin(editor),
          new FontHighlightPlugin(editor),
          new HyperlinkPlugin(editor),
          new ImagePlugin(editor, propeller)];
      });

      $editor[0].content = "Hello World!";
    };
  </script>
</head>

<body>
  <yarte-editor></yarte-editor>
</body>

</html>