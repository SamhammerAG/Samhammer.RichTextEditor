<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>YARTE Editor Test</title>
    <script type="module" src="src/main.ts"></script>
    <style>
        yarte-editor {
            display: flex;
            margin-bottom: 5rem;
            width: 700px;
            margin: 0 auto;
        }
    </style>
    <script type="module" lang="ts">

        import { BoldPlugin, ItalicPlugin, StrikePlugin, UnderlinePlugin, FontColorPlugin, FontHighlightPlugin, ImagePlugin, HyperlinkPlugin, BulletListPlugin, OrderedListPlugin, TablePlugin, TextAlignPlugin, RedoPlugin, UndoPlugin, RemoveFormatPlugin } from "./src/main.ts";

        window.onload = () => {
            var $editor = document.querySelectorAll("yarte-editor");

            let propeller = (file) => {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("urltoimage");
                    })
                })
            }

            $editor[0].initCallback = () => {
                return [
                    new BoldPlugin(),
                    new ItalicPlugin(),
                    new StrikePlugin(),
                    new UnderlinePlugin(),
                    new FontColorPlugin(),
                    new FontHighlightPlugin(),
                    new HyperlinkPlugin(),
                    new ImagePlugin(propeller),
                    new BulletListPlugin(),
                    new OrderedListPlugin(),
                    new TablePlugin(),
                    new TextAlignPlugin(),
                    new RedoPlugin(),
                    new UndoPlugin(),
                    new RemoveFormatPlugin(),
                ];
            };

            $editor[0].content = "Hello World!";
        };
    </script>
</head>

<body>
    <yarte-editor></yarte-editor>
</body>

</html>